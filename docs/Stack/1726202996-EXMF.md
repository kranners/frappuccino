---
id: 1726202996-EXMF
aliases:
  - Marks node senior engineering challenge
tags: []
---

# Marks node senior engineering challenge

Challenge was to construct a tree (a nested Object/dict/attrset) out of a list of nodes with parents.

My solution:
```js
const NODE_LIST = [
  { "id": 1, "name": "node1", "parent": undefined },
  { "id": 2, "name": "node2", "parent": 8 },
  { "id": 3, "name": "node3", "parent": 6 },
  { "id": 4, "name": "node4", "parent": 6 },
  { "id": 5, "name": "node5", "parent": 6 },
  { "id": 6, "name": "node6", "parent": 8 },
  { "id": 7, "name": "node7", "parent": 1 },
  { "id": 8, "name": "node8", "parent": undefined },
  { "id": 9, "name": "node9", "parent": 1 },
  { "id": 10, "name": "node10", "parent": 2 },
  { "id": 11, "name": "node11", "parent": 7 },
  { "id": 12, "name": "node12", "parent": 7 },
  { "id": 13, "name": "node13", "parent": 4 },
  { "id": 14, "name": "node14", "parent": 13 },
];

function buildNode(node) {
  const children = NODE_LIST.filter(({ parent }) => parent === node.id).map(buildNode);
  return { ...node, children };
}

function buildTree(nodes) {
  const ancestors = nodes.filter(({ parent }) => parent === undefined);

  return ancestors.reduce((tree, ancestor) => {
    return {
      ...tree,
      [ancestor.name]: buildNode(ancestor),
    };
  }, {});
}

const tree = buildTree(NODE_LIST);
console.log(JSON.stringify(tree, null, 2));
```

